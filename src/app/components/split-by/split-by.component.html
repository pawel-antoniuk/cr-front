<h1 mat-dialog-title>Split by variable</h1>

<div mat-dialog-content>

  <p>Select datasets and variables to split</p>
  <p>Many splits will be done simultaneously</p>

  <mat-form-field class="dataset-selection">
    <mat-label>Datasets</mat-label>
    <mat-select [formControl]="viewNameControl" multiple (selectionChange)="onDatasetSelectionChange()">
      <mat-select-trigger>
        {{viewNameControl.value ? viewNameControl.value[0] : ''}}
        <span *ngIf="viewNameControl.value?.length > 1">
          (+{{viewNameControl.value.length - 1}} {{viewNameControl.value?.length === 2 ? 'other' : 'others'}})
        </span>
      </mat-select-trigger>
      <mat-option *ngFor="let viewName of viewNames" [value]="viewName">{{viewName}}</mat-option>
    </mat-select>
  </mat-form-field>

  <br>

  <mat-form-field class="dataset-selection">
    <mat-label>Variables</mat-label>
    <mat-select [formControl]="variableNameControl" multiple (selectionChange)="onDatasetSelectionChange()">
      <mat-select-trigger>
        {{variableNameControl.value ? variableNameControl.value[0] : ''}}
        <span *ngIf="variableNameControl.value?.length > 1">
          (+{{variableNameControl.value.length - 1}} {{variableNameControl.value?.length === 2 ? 'other' : 'others'}})
        </span>
      </mat-select-trigger>
      <mat-option *ngFor="let variableName of variableNames" [value]="variableName">{{variableName}}</mat-option>
    </mat-select>
  </mat-form-field>

</div>

<div mat-dialog-actions  align="end">
  <button mat-button mat-dialog-close>Close</button>
  <button mat-button cdkFocusInitial (click)="onAccept()">Split</button>
</div>
